{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/matheus/%C3%81rea%20de%20Trabalho/Projetos/consulta-processual-app/pages/dashboard/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\ninterface Processo {\n  id: number;\n  numero: string;\n  descricao: string;\n  ownerId: number;\n}\n\nexport default function Dashboard() {\n  const router = useRouter();\n  const [level, setLevel] = useState<number>(1);\n  const [tab, setTab] = useState<string>(\"meus\");\n  const [processos, setProcessos] = useState<Processo[]>([]);\n\n  // Nível pode vir de localStorage ou query, aqui apenas exemplo\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const stored = window.localStorage.getItem(\"userLevel\");\n      if (stored) setLevel(Number(stored));\n    }\n  }, []);\n\n  useEffect(() => {\n    async function load() {\n      const res = await fetch(`/api/processos?level=${level}`);\n      const data = await res.json();\n      setProcessos(data.processos);\n    }\n    load();\n  }, [level]);\n\n  const filtered = tab === \"meus\"\n    ? processos.filter((p) => p.ownerId === 1 || level === 0)\n    : processos;\n\n  return (\n    <div className=\"flex min-h-screen\">\n      {/* Sidebar */}\n      <aside className=\"w-64 bg-gray-100 border-r p-4 space-y-2\">\n        {level === 1 && (\n          <button\n            className={`block w-full text-left px-3 py-2 rounded-md ${tab === \"meus\" ? \"bg-gray-200\" : \"\"}`}\n            onClick={() => setTab(\"meus\")}\n          >\n            Meus Processos\n          </button>\n        )}\n        {level === 0 && (\n          <>\n            <button\n              className={`block w-full text-left px-3 py-2 rounded-md ${tab === \"notificados\" ? \"bg-gray-200\" : \"\"}`}\n              onClick={() => setTab(\"notificados\")}\n            >\n              Processos Notificados\n            </button>\n            <button\n              className={`block w-full text-left px-3 py-2 rounded-md ${tab === \"escritorios\" ? \"bg-gray-200\" : \"\"}`}\n              onClick={() => setTab(\"escritorios\")}\n            >\n              Gestão de Escritórios\n            </button>\n          </>\n        )}\n      </aside>\n\n      {/* Main */}\n      <div className=\"flex-1 flex flex-col\">\n        <header className=\"flex justify-end border-b p-4\">\n          <Link href=\"/login\" className=\"text-sm font-semibold underline\">\n            Sair\n          </Link>\n        </header>\n\n        <main className=\"p-4 flex-1 overflow-y-auto\">\n          {tab === \"meus\" && (\n            <div>\n              <h1 className=\"text-xl font-bold mb-4\">Meus Processos</h1>\n              <table className=\"min-w-full border text-sm\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"border px-2 py-1 text-left\">Número</th>\n                    <th className=\"border px-2 py-1 text-left\">Descrição</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filtered.map((p) => (\n                    <tr key={p.id}>\n                      <td className=\"border px-2 py-1\">{p.numero}</td>\n                      <td className=\"border px-2 py-1\">{p.descricao}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {level === 0 && tab === \"notificados\" && (\n            <div>\n              <h1 className=\"text-xl font-bold mb-4\">Processos Notificados</h1>\n              <table className=\"min-w-full border text-sm\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"border px-2 py-1 text-left\">Número</th>\n                    <th className=\"border px-2 py-1 text-left\">Descrição</th>\n                    <th className=\"border px-2 py-1 text-left\">Responsável</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {processos.map((p) => (\n                    <tr key={p.id}>\n                      <td className=\"border px-2 py-1\">{p.numero}</td>\n                      <td className=\"border px-2 py-1\">{p.descricao}</td>\n                      <td className=\"border px-2 py-1\">Usuário {p.ownerId}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {level === 0 && tab === \"escritorios\" && (\n            <div>\n              <h1 className=\"text-xl font-bold mb-4\">Gestão de Escritórios</h1>\n              <p>Área restrita ao administrador.</p>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}